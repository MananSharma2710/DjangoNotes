## MIGRATIONS

* Migrations are Django's way of propagating changes we make to our models (adding a field, deleting a model, etc.) into our database schema.

1. `makemigrations`
    + This is responsible for creating new migrations based on the changes we have made to our models.
    + It is used to convert model class into sql statements.
    + This will also create a file which contain sql statements. This file is located in Application's migrations folder.

**Syntax**
```bash
python manage.py makemigrations
```

2. `migrate`
    + This is responsible for applying and unapplying migrations.
    + It is used to execute sql statements generated by makemigration.
    + This command will execute All Application's (including built-in applications) SQL Statements if available.
    + After execution of sql statements table will be created.

**Syntax**
```bash
python manage.py migrate
```

3. `sqlmigrate` 
    + This displays the SQL statements for a migration.

**Syntax**
```bash
python manage.py sqlmigrate application_name dbfile_name
```

**Example**
```bash
python manage.py sqlmigrate enroll 0001
```

**Note**: Filename can be found inside Application's migrations folder.


4. `showmigrations` 
    + This lists a project's migrations and their status.

**Note**: If we make any change in our own model class we are required to run *makemigration* and *migrate* command only then we will get those changes in our application.


**`migrations/0001_initial.py`**

```python
from django.db import migrations, models

class Migration(migrations.Migration):

initial=True

dependencies = []

operations = [
    migrations.CreateModel(
        name='Student',
        fields=[
            ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
            ('stuid', models.IntegerField()),
            ('stuname', models.CharField(max_length=70)),
            ('stuemail', models.EmailField(max_length=70)),
            ('stupass', models.CharField(max_length=70)),
        ],
    ),
]         
```

- `from django.db import migrations, models`:
    + This line imports the necessary modules from Django for handling migrations and defining models.

- `class Migration(migrations.Migration):`:
    + This line defines a new migration class named `Migration`.
    + This class will hold the instructions for creating or modifying database schema changes.

- `initial = True`:
    + This indicates that this migration is the initial one for the app. It's typically used for the initial creation of the app's database schema.
    + Usually an app will have one initial migration, but in some cases of complex model interdependencies it may have two or more.
    + Initial migrations are marked with an `initial = True` class attribute on the migration class.
    + If an initial class attribute isn't found, a migration will be considered "initial" if it is the first migration in the app.

- `dependencies = []`:
    + This list specifies any dependencies this migration has on other migrations.
    + In this case, since it's an initial migration, there are no dependencies.

- `operations = [...]`:
    + This is a list of operations that need to be performed in this migration.
    + In this case, there's a single operation, which is to create a new model named `Student`.

- `migrations.CreateModel(...)`:
    + This operation is used to create a new database table corresponding to the `Student` model.

- `name='Student'`:
    + This specifies the name of the model being created.

- `fields=[...]`:
    + This list contains the fields that will be part of the `Student` model and its corresponding database table.

- `('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID'))`:
    + This defines an automatically generated primary key field named `id`.
    + It's an `AutoField` which means it will automatically generate unique IDs for each record.